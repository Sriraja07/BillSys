<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Auto-Paginated Receipt</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @media print {
      thead {
        display: table-header-group;
      }
      
      .no-print {
        display: none;
      }
    }
  </style>
</head>
<body class="p-8 text-sm text-gray-800">

  <!-- Optional customization input -->
  <div class="mb-6 no-print">
    <labelItems" class="block mb-2 font-medium">Total items to generate:</label>
    <input type="number" id="totalItems" value="63" min="1" class="border px-3 py-1 w-24" />
    <button onclick="renderReceipt()" class="ml-4 px-4 py-1 bg-blue-600 text-white rounded">Generate Receipt</button>
  </div>

  <div id="receipt-container"></div>

  <script>
    function renderReceipt() {
      const totalItems = parseInt(document.getElementById('totalItems').value) || 63;
      const container = document.getElementById('receipt-container');
      container.innerHTML = '';

      const products = Array.from({ length: totalItems }, (_, i) => ({
        id: i + 1,
        name: `Product ${i + 1}`,
        qty: Math.floor(Math.random() * 5) + 1,
        price: Math.floor(Math.random() * 100) + 50
      }));

      let subtotal = 0;
      let rows = '';

      products.forEach(p => {
        const total = p.qty * p.price;
        subtotal += total;
        rows += `
          <tr>
            <td class="border px-2 py-1">${p.id}</td>
            <td class="border px-2 py-1">${p.name}</td>
            <td class="border px-2 py-1 text-right">${p.qty}</td>
            <td class="border px-2 py-1 text-right">₹${p.price}</td>
            <td class="border px-2 py-1 text-right">₹${total}</td>
          </tr>
        `;
      });

      container.innerHTML = `
        <h2 class="text-xl font-bold mb-2">Receipt</h2>
        <table class="w-full border border-gray-300 mb-4">
          <thead class="bg-gray-100">
            <tr>
              <th class="border px-2 py-1 text-left">#</th>
              <th class="border px-2 py-1 text-left">Item</th>
              <th class="border px-2 py-1 text-right">Qty</th>
              <th class="border px-2 py-1 text-right">Price</th>
              <th class="border px-2 py-1 text-right">Total</th>
            </tr>
          </thead>
          <tbody>${rows}</tbody>
          <tr class="page-break"></tr>
          <tfoot>
            <tr>
              <td colspan="4" class="border px-2 py-1 text-right font-bold">Subtotal</td>
              <td class="border px-2 py-1 text-right font-bold">₹${subtotal}</td>
            </tr>
            <tr>
              <td colspan="4" class="border px-2 py-1 text-right">GST (18%)</td>
              <td class="border px-2 py-1 text-right">₹${(subtotal * 0.18).toFixed(2)}</td>
            </tr>
            <tr>
              <td colspan="4" class="border px-2 py-1 text-right font-bold">Total</td>
              <td class="border px-2 py-1 text-right font-bold">₹${(subtotal * 1.18).toFixed(2)}</td>
            </tr>
          </tfoot>
        </table>
      `;
    }

    // Initial render
    renderReceipt();
  </script>
</body>
</html>
